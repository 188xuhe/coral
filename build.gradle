apply plugin: 'li-product'

configurations {
  provided
}

buildscript {
  dependencies {
    classpath 'gradle.plugin.nl.javadude.gradle.plugins:license-gradle-plugin:0.14.0'
  }
}

subprojects {
  apply plugin: "com.github.hierynomus.license"

  license {
    header = file("${rootDir}/gradle/license/LICENSE_HEADER")
    ext.year = Calendar.getInstance().get(Calendar.YEAR)
    skipExistingHeaders true
    ignoreFailures false
    strictCheck true

    exclude '**/*.avsc'
    exclude '**/*.json'
  }

  plugins.withType(JavaPlugin) {
    dependencies {
      // dependency defined in product_spec.json
      testCompile spec.external.testng
    }

    test {
      useTestNG()
    }
  }
}
