apply plugin:'li-java'
apply plugin: 'maven'

configurations {
  master
}

dependencies {
  compile spec.external.'calcite-core'
  compile spec.external.'avatica-core'
  compile spec.external.'calcite-avatica'
  compile spec.external.'protobuf-java'
  testCompile spec.external.'presto-parser'
}
def pomPath = "$buildDir/${name}.pom"

task createPom {
  doLast {
    pom {
      project {
        groupId "$group"
        artifactId "$name"
      }
    }.writeTo(pomPath)
  }
}

artifacts {
  archives jar, javadocJar, sourcesJar
  master file: file("$pomPath"), name: "$name", type: "pom", builtBy: createPom
}
